[package]
name = "owl_patch"
version = "0.1.0"
edition = "2021"
authors = ["orukusaki"]

[dependencies]
num = {version = "0.4", default-features = false}
num-derive = "0.4.2"
num-traits = { version = "0.2.19", default-features = false,  features = ["libm"]}
talc = {version = "4.4.1", features = ["counters"], optional = true}
spin = "0.9.8"
const-str = "0.5.7"

[dev-dependencies]
fundsp = { version = "0.18.2", default-features = false }
cmsis_dsp = {version = "0.1.0", features = ["libm"]}

[build-dependencies]
bindgen = "0.65.1"

[features]
default = ["talc"]
talc = ["dep:talc"]

[profile.release]
strip = "debuginfo"
codegen-units = 1
debug-assertions = false
incremental = false
lto = "fat"
opt-level = 3
overflow-checks = false

[profile.release.package."*"]
strip = "debuginfo"
opt-level = 3
